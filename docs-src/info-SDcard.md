# Updating the SDCARD

Information on how to update the SD card.

## Updating the preload

TBD

## Updating uboot

TBD

### uboot script

```bash
$ cp u-boot.scr /run/media/corsi/B0DA-B234/
```

## Updating the Kernel

To update the kernel, simply mount partition 0 (819.2 MB). In my case, the path is: `/run/media/corsi/B0DA-B234/` and copy the `zImage` file to it.

The `zImage` file is located (inside the kernel repository) at: `/arch/arm/boot/zImage`

```bash
$ cp ~/work/linux/arch/arm/boot/zImage /run/media/corsi/B0DA-B234/
$ sync
```

!!! note
    You will need to edit the path where the partition was mounted on your Linux.

When you do this, you will notice that the Linux kernel version is the one generated in the kernel compilation step.

## Updating the dts

TBD

## FileSystem

To insert our file system into the SD card, first mount partition 1. In my case: `/media/corsi/9cb79fd9-69b8-43e3-bcfe-fa4582579e2c/`. Once mounted, you should first delete the files saved there (remove the old file system) and then extract what was generated by buildroot.

!!! warning
    You will need to edit the path where the partition was mounted on your Linux. The partition is the one that contains the root `/` of the embedded Linux.

!!! danger
    If you make a mistake, it can be destructive (for your files)

```bash
# Cleaning old fs
$ sudo rm -r /media/corsi/9cb79fd9-69b8-43e3-bcfe-fa4582579e2c/
$ sync 

# Extracting new fs
$ sudo tar xvf rootfs.tar -C /media/corsi/9cb79fd9-69b8-43e3-bcfe-fa4582579e2c/
$ sync 
```
```
